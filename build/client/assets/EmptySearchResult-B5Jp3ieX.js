import{R as e,r as d}from"./index-BXFZJKZ8.js";import{e as C,v as $,k as Ee,j as G,s as Pe,T as j,x as ve,f as oe,y as Ae,z as Ce,D as Le,b as Be,S as Ne,n as Se,m as le,A as ue,u as Y,h as Ie,E as xe,I as ie,F as Me,w as _e,M as We}from"./Page-D9pdNdHS.js";import{h as He,l as we}from"./context-BusKBsRw.js";var de=function(t){return e.createElement("svg",Object.assign({viewBox:"0 0 20 20"},t),e.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};de.displayName="MinusIcon";function Oe({alt:n,sourceSet:t,source:i,crossOrigin:s,onLoad:c,className:a,...r}){const h=t?t.map(({source:k,descriptor:o})=>`${k} ${o}`).join(","):null,u=d.useCallback(()=>{c&&c()},[c]);return e.createElement("img",Object.assign({alt:n,src:i,crossOrigin:s,className:a,onLoad:u},h?{srcSet:h}:{},r))}const Re=d.createContext(!1);var A={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},B={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function je({id:n,label:t,disabled:i,error:s,children:c,labelHidden:a,helpText:r,onClick:h,labelClassName:u,fill:k,bleed:o,bleedBlockStart:m,bleedBlockEnd:g,bleedInlineStart:f,bleedInlineEnd:E,tone:b}){const P=C(B.Choice,a&&B.labelHidden,i&&B.disabled,b&&B[$("tone",b)],u),T={...G("choice","bleed-block-end","space",g||o),...G("choice","bleed-block-start","space",m||o),...G("choice","bleed-inline-start","space",f||o),...G("choice","bleed-inline-end","space",E||o),...Object.fromEntries(Object.entries(Ee("choice","fill",k)).map(([v,O])=>[v,O?"100%":"auto"]))},H=e.createElement("label",{className:P,htmlFor:n,onClick:h,style:Pe(T)},e.createElement("span",{className:B.Control},c),e.createElement("span",{className:B.Label},e.createElement(j,{as:"span",variant:"bodyMd"},t))),x=r?e.createElement("div",{className:B.HelpText,id:he(n)},e.createElement(j,{as:"span",tone:i?void 0:"subdued"},r)):null,M=s&&typeof s!="boolean"&&e.createElement("div",{className:B.Error},e.createElement(ve,{message:s,fieldID:n})),w=x||M?e.createElement("div",{className:B.Descriptions},M,x):null;return w?e.createElement("div",null,H,w):H}function he(n){return`${n}HelpText`}const Te=d.forwardRef(function({ariaControls:t,ariaDescribedBy:i,label:s,labelHidden:c,checked:a=!1,helpText:r,disabled:h,id:u,name:k,value:o,error:m,onChange:g,onFocus:f,onBlur:E,labelClassName:b,fill:P,bleed:T,bleedBlockStart:H,bleedBlockEnd:x,bleedInlineStart:M,bleedInlineEnd:w,tone:v},O){const L=d.useRef(null),K=d.useId(),_=u??K,Z=d.useContext(Re);d.useImperativeHandle(O,()=>({focus:()=>{L.current&&L.current.focus()}}));const V=()=>{E&&E()},ee=()=>{g==null||L.current==null||h||(g(L.current.checked,_),L.current.focus())},W=[];m&&typeof m!="boolean"&&W.push(Ae(_)),r&&W.push(he(_)),i&&W.push(i);const F=W.length?W.join(" "):void 0,J=C(A.Checkbox,m&&A.error),y=a==="indeterminate",z=!y&&!!a,te=y?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":z},ne=e.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},e.createElement("path",{className:C(a&&A.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),q=C(A.Input,y&&A["Input-indeterminate"],v&&A[$("tone",v)]),D={helpText:r,error:m,bleed:T,bleedBlockStart:H,bleedBlockEnd:x,bleedInlineStart:M,bleedInlineEnd:w};return e.createElement(je,Object.assign({id:_,label:s,labelHidden:c,disabled:h,labelClassName:C(A.ChoiceLabel,b),fill:P,tone:v},D),e.createElement("span",{className:J},e.createElement("input",Object.assign({ref:L,id:_,name:k,value:o,type:"checkbox",checked:z,disabled:h,className:q,onBlur:V,onChange:Fe,onClick:ee,onFocus:f,"aria-invalid":m!=null,"aria-controls":t,"aria-describedby":F,role:Z?"presentation":"checkbox"},te)),e.createElement("span",{className:A.Backdrop,onClick:se,onKeyUp:se}),e.createElement("span",{className:C(A.Icon,!y&&A.animated)},y?e.createElement(oe,{source:de}):ne)))});function Fe(){}function se(n){n.stopPropagation()}function ae(n=[],t,i,s){const c=i.reduce((u,k)=>u+k,0),a=n.map((u,k)=>k),r=[],h=[];if(s>c)r.push(...a);else{let u=0,k=!1;a.forEach(o=>{const m=i[o];if(u+m>=s-t||k){h.push(o),k=!0;return}r.push(o),u+=m})}return{visiblePromotedActions:r,hiddenPromotedActions:h}}function ze(n){const t=n.filter(i=>i.items);return n.length===t.length}function De(n){const t=n.filter(i=>!i.items);return n.length===t.length}function X(n){return"title"in n&&"actions"in n}function $e(n){return"items"in n}function Ve(n){if(!(!n||n.length===0)){if(ze(n))return n;if(De(n))return[{items:n}]}}function ce(n){var t;if(!n)return!1;for(const i of n)for(const s of i.items)if(((t=s.badge)==null?void 0:t.tone)==="new")return!0;return!1}var N={BulkActionsOuterLayout:"Polaris-BulkActions__BulkActionsOuterLayout",BulkActionsSelectAllWrapper:"Polaris-BulkActions__BulkActionsSelectAllWrapper",BulkActionsPromotedActionsWrapper:"Polaris-BulkActions__BulkActionsPromotedActionsWrapper",BulkActionsLayout:"Polaris-BulkActions__BulkActionsLayout","BulkActionsLayout--measuring":"Polaris-BulkActions--bulkActionsLayoutMeasuring",BulkActionsMeasurerLayout:"Polaris-BulkActions__BulkActionsMeasurerLayout",BulkActionButton:"Polaris-BulkActions__BulkActionButton",AllAction:"Polaris-BulkActions__AllAction"},re={Indicator:"Polaris-Indicator",pulseIndicator:"Polaris-Indicator--pulseIndicator"};function qe({pulse:n=!0}){const t=C(re.Indicator,n&&re.pulseIndicator);return e.createElement("span",{className:t})}function R({handleMeasurement:n,url:t,external:i,onAction:s,content:c,disclosure:a,accessibilityLabel:r,disabled:h,destructive:u,indicator:k,showContentInButton:o,size:m}){const g=d.useRef(null);Ce(()=>{if(n&&g.current){const P=g.current.getBoundingClientRect().width;n(P)}});const f=a&&!o,E=f?void 0:c,b=e.createElement(Be,{external:i,url:t,accessibilityLabel:f?c:r,tone:u?"critical":void 0,disclosure:a&&o,onClick:s,disabled:h,size:m,icon:f?e.createElement(oe,{source:Ne,tone:"base"}):void 0},E);return e.createElement("div",{className:N.BulkActionButton,ref:g},f?e.createElement(Le,{content:c,preferredPosition:"below"},b):b,k&&e.createElement(qe,null))}function Ue({title:n,actions:t,isNewBadgeInBadgeActions:i,size:s}){const{value:c,toggle:a}=Se(!1);return e.createElement(e.Fragment,null,e.createElement(le,{active:c,activator:e.createElement(R,{disclosure:!0,showContentInButton:!0,onAction:a,content:n,indicator:i,size:s}),onClose:a,preferInputActivator:!0},e.createElement(ue,{items:t,onActionAnyItem:a})))}var Q={CheckableButton:"Polaris-CheckableButton",Checkbox:"Polaris-CheckableButton__Checkbox",Label:"Polaris-CheckableButton__Label"};const Ge=d.forwardRef(function({accessibilityLabel:t,label:i="",onToggleAll:s,selected:c,disabled:a,ariaLive:r},h){const u=d.useRef(null);function k(){var o;(o=u==null?void 0:u.current)==null||o.focus()}return d.useImperativeHandle(h,()=>({focus:k})),e.createElement("div",{className:Q.CheckableButton,onClick:s},e.createElement("div",{className:Q.Checkbox},e.createElement(Te,{label:t,labelHidden:!0,checked:c,disabled:a,onChange:s,ref:u})),i?e.createElement("span",{className:Q.Label,"aria-live":r},e.createElement(j,{as:"span",variant:"bodySm",fontWeight:"medium"},i)):null)}),Ke=4;function Ze({promotedActions:n=[],disabled:t,buttonSize:i,handleMeasurement:s}){const c=Y(),a=d.useRef(null),r=c.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),h=e.createElement(R,{disclosure:!0,content:r}),u=d.useCallback(()=>{if(!a.current)return;const o=a.current.offsetWidth,m=a.current.children,f=Array.from(m).map(b=>Math.ceil(b.getBoundingClientRect().width)+Ke),E=f.pop()||0;s({containerWidth:o,disclosureWidth:E,hiddenActionsWidths:f})},[s]);d.useEffect(()=>{u()},[u,n]);const k=n.map((o,m)=>X(o)?e.createElement(R,{key:m,disclosure:!0,showContentInButton:!0,content:o.title,size:i}):e.createElement(R,Object.assign({key:m,disabled:t},o,{size:i})));return Ie("resize",u),e.createElement("div",{className:N.BulkActionsMeasurerLayout,ref:a},k,h)}const st=d.forwardRef(function({promotedActions:t,actions:i,disabled:s,buttonSize:c,paginatedSelectAllAction:a,paginatedSelectAllText:r,label:h,accessibilityLabel:u,selected:k,onToggleAll:o,onMoreActionPopoverToggle:m,width:g,selectMode:f},E){const b=Y(),[P,T]=d.useState(!1),[H,x]=d.useReducer((p,l)=>({...p,...l}),{disclosureWidth:0,containerWidth:1/0,actionsWidths:[],visiblePromotedActions:[],hiddenPromotedActions:[],hasMeasured:!1}),{visiblePromotedActions:M,hiddenPromotedActions:w,containerWidth:v,disclosureWidth:O,actionsWidths:L,hasMeasured:K}=H;d.useEffect(()=>{if(v===0||!t||t.length===0)return;const{visiblePromotedActions:p,hiddenPromotedActions:l}=ae(t,O,L,v);x({visiblePromotedActions:p,hiddenPromotedActions:l,hasMeasured:v!==1/0})},[v,O,t,L]);const _=!t||t&&M.length===0?b.translate("Polaris.ResourceList.BulkActions.actionsActivatorLabel"):b.translate("Polaris.ResourceList.BulkActions.moreActionsActivatorLabel"),Z=a?e.createElement(xe,{className:N.AllAction,onClick:a.onAction,size:"slim",disabled:s},e.createElement(j,{as:"span",variant:"bodySm",fontWeight:"medium"},a.content)):null,V=r&&a,W={accessibilityLabel:u,label:V?r:h,selected:k,onToggleAll:o,disabled:s,ariaLive:V?"polite":void 0,ref:E},F=d.useCallback(()=>{m==null||m(P),T(p=>!p)},[m,P]),J=d.useCallback(p=>{const{hiddenActionsWidths:l,containerWidth:S,disclosureWidth:U}=p;if(!t||t.length===0)return;const{visiblePromotedActions:be,hiddenPromotedActions:ye}=ae(t,U,l,S);x({visiblePromotedActions:be,hiddenPromotedActions:ye,actionsWidths:l,containerWidth:S,disclosureWidth:U,hasMeasured:!0})},[t]),y=Ve(i),z=t?t.filter((p,l)=>!!M.includes(l)).map((p,l)=>X(p)?e.createElement(Ue,Object.assign({key:l},p,{isNewBadgeInBadgeActions:ce(y),size:c})):e.createElement(R,Object.assign({key:l,disabled:s},p,{size:c}))):null,q={items:w.map(p=>t==null?void 0:t[p]).reduce((p,l)=>l?X(l)?p.concat(l.actions):p.concat(l):p,[])},D=d.useMemo(()=>{if(y)return y;if(!i)return[];let p=!0;return i.filter(l=>l).reduce((l,S)=>{if($e(S))return p=!1,l.concat(S);if(p){if(l.length===0)return[{items:[S]}];const U=l[l.length-1];return l.splice(l.length-1,1,{items:[...U.items,S]}),l}return p=!0,l.concat({items:[S]})},[])},[i,y]),pe=e.createElement(R,{disclosure:!0,showContentInButton:!z,onAction:F,content:_,disabled:s,indicator:ce(y),size:c}),ge=D.length>0?e.createElement(le,{active:P,activator:pe,preferredAlignment:"right",onClose:F},e.createElement(ue,{sections:q.items.length>0?[q,...D]:D,onActionAnyItem:F})):null,fe=e.createElement(Ze,{promotedActions:t,disabled:s,buttonSize:c,handleMeasurement:J});return e.createElement("div",{className:N.BulkActions,style:g?{width:g}:void 0},e.createElement(ie,{gap:"400",blockAlign:"center"},e.createElement("div",{className:N.BulkActionsSelectAllWrapper},e.createElement(Ge,W),Z),f?e.createElement("div",{className:N.BulkActionsPromotedActionsWrapper},e.createElement(ie,{gap:"100",blockAlign:"center"},e.createElement("div",{className:N.BulkActionsOuterLayout},fe,e.createElement("div",{className:C(N.BulkActionsLayout,!K&&N["BulkActionsLayout--measuring"])},z)),ge)):null))});var I={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function me({children:n,fill:t}){const i=C(I.Item,t&&I["Item-fill"]);return e.createElement("div",{className:i},n)}const ke=d.memo(function({children:t,vertical:i,spacing:s,distribution:c,alignment:a,wrap:r}){const h=C(I.LegacyStack,i&&I.vertical,s&&I[$("spacing",s)],c&&I[$("distribution",c)],a&&I[$("alignment",a)],r===!1&&I.noWrap),u=Me(t).map((k,o)=>_e(k,me,{key:o}));return e.createElement("div",{className:h},u)});ke.Item=me;function Je(){const n=d.useContext(He);if(!n)throw new We("No StickyManager was provided.");return n}class Qe extends d.Component{constructor(...t){super(...t),this.state={isSticky:!1,style:{}},this.placeHolderNode=null,this.stickyNode=null,this.setPlaceHolderNode=i=>{this.placeHolderNode=i},this.setStickyNode=i=>{this.stickyNode=i},this.handlePositioning=(i,s=0,c=0,a=0)=>{const{isSticky:r}=this.state;(i&&!r||!i&&r)&&(this.adjustPlaceHolderNode(i),this.setState({isSticky:!r},()=>{if(this.props.onStickyChange==null||(this.props.onStickyChange(!r),this.props.boundingElement==null))return null;this.props.boundingElement.toggleAttribute("data-sticky-active")}));const h=i?{position:"fixed",top:s,left:c,width:a}:{};this.setState({style:h})},this.adjustPlaceHolderNode=i=>{this.placeHolderNode&&this.stickyNode&&(this.placeHolderNode.style.paddingBottom=i?`${we(this.stickyNode).height}px`:"0px")}}componentDidMount(){const{boundingElement:t,offset:i=!1,disableWhenStacked:s=!1,stickyManager:c}=this.props;!this.stickyNode||!this.placeHolderNode||c.registerStickyItem({stickyNode:this.stickyNode,placeHolderNode:this.placeHolderNode,handlePositioning:this.handlePositioning,offset:i,boundingElement:t,disableWhenStacked:s})}componentWillUnmount(){const{stickyManager:t}=this.props;this.stickyNode&&t.unregisterStickyItem(this.stickyNode)}render(){const{style:t,isSticky:i}=this.state,{children:s}=this.props,c=Xe(s)?s(i):s;return e.createElement("div",null,e.createElement("div",{ref:this.setPlaceHolderNode}),e.createElement("div",{ref:this.setStickyNode,style:t},c))}}function Xe(n){return typeof n=="function"}function at(n){const t=Je();return e.createElement(Qe,Object.assign({},n,{stickyManager:t}))}var Ye="data:image/svg+xml,%3csvg width='60' height='60' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' d='M41.87 24a17.87 17.87 0 11-35.74 0 17.87 17.87 0 0135.74 0zm-3.15 18.96a24 24 0 114.24-4.24L59.04 54.8a3 3 0 11-4.24 4.24L38.72 42.96z' fill='%238C9196'/%3e%3c/svg%3e",et=Ye;function ct({title:n,description:t,withIllustration:i}){const c=Y().translate("Polaris.EmptySearchResult.altText"),a=t?e.createElement("p",null,t):null,r=i?e.createElement(Oe,{alt:c,source:et,draggable:!1}):null;return e.createElement(ke,{alignment:"center",vertical:!0},r,e.createElement(j,{variant:"headingLg",as:"p"},n),e.createElement(j,{tone:"subdued",as:"span"},a))}export{st as B,Te as C,ct as E,Oe as I,ke as L,at as S,Ge as a};
